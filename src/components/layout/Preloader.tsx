"use client";

import { useEffect, useState } from "react";

export default function Preloader() {
  const [show, setShow] = useState(true);

  useEffect(() => {
    const perf = performance.getEntriesByType(
      "navigation"
    )[0] as PerformanceNavigationTiming;
    const isFast = perf && perf.duration < 100;

    if (isFast) {
      setShow(false);
      return;
    }

    const handleLoad = () => setShow(false);

    if (document.readyState === "complete") {
      handleLoad();
    } else {
      window.addEventListener("load", handleLoad);
    }

    return () => window.removeEventListener("load", handleLoad);
  }, []);

  useEffect(() => {
    document.body.style.overflow = show ? "hidden" : "auto";
    return () => {
      document.body.style.overflow = "auto";
    };
  }, [show]);

  if (!show) return null;

  return (
    <>
      <div className="fixed inset-0 z-[9999] flex items-center justify-center bg-[var(--color-primary)] pointer-events-none">
        <div className="flex items-center gap-10">
          <div className="w-16 h-16 spin-burst">
            <svg
              width="77"
              height="76"
              viewBox="0 0 77 76"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M10.0764 30.8527C9.44306 30.8527 8.92969 30.342 8.92969 29.7118V3.46912C8.92969 2.83897 9.44306 2.32812 10.0764 2.32812H12.3697C13.003 2.32812 13.5164 2.83897 13.5164 3.46912V29.7118C13.5164 30.342 13.003 30.8527 12.3697 30.8527H10.0764Z"
                fill="#1D1D1B"
              />
              <path
                d="M1.20917 30.8527C0.575883 30.8527 0.0625 30.342 0.0625 29.7118V3.46912C0.0625 2.83897 0.575883 2.32812 1.20917 2.32812H3.50252C4.13579 2.32812 4.6492 2.83897 4.6492 3.46912V29.7118C4.6492 30.342 4.13579 30.8527 3.50252 30.8527H1.20917Z"
                fill="#1D1D1B"
              />
              <path
                d="M10.0764 73.6399C9.44306 73.6399 8.92969 73.1288 8.92969 72.4989V46.2562C8.92969 45.626 9.44306 45.1152 10.0764 45.1152H12.3697C13.003 45.1152 13.5164 45.626 13.5164 46.2562V72.4989C13.5164 73.1288 13.003 73.6399 12.3697 73.6399H10.0764Z"
                fill="#1D1D1B"
              />
              <path
                d="M1.20917 73.6399C0.575883 73.6399 0.0625 73.1288 0.0625 72.4989V46.2562C0.0625 45.626 0.575883 45.1152 1.20917 45.1152H3.50252C4.13579 45.1152 4.6492 45.626 4.6492 46.2562V72.4989C4.6492 73.1288 4.13579 73.6399 3.50252 73.6399H1.20917Z"
                fill="#1D1D1B"
              />
              <path
                d="M27.2773 20.1567C27.2773 9.05035 36.3258 0.046875 47.4874 0.046875C47.7608 0.046875 47.7779 0.440732 47.5108 0.498C38.4031 2.45045 31.5775 10.5104 31.5775 20.1567V29.7125C31.5775 30.3427 31.0639 30.8534 30.4307 30.8534H28.4242C27.7909 30.8534 27.2773 30.3427 27.2773 29.7125V20.1567Z"
                fill="#1D1D1B"
              />
              <path
                d="M67.4329 20.1567V29.7125C67.4329 30.3427 66.9196 30.8534 66.2863 30.8534H64.2796C63.6463 30.8534 63.133 30.3427 63.133 29.7125V20.1567C63.133 13.6834 59.1567 8.13421 53.502 5.79541C52.6027 5.42343 51.5897 5.42343 50.6904 5.79541C45.0358 8.13421 41.0595 13.6834 41.0595 20.1567V29.7125C41.0595 30.3427 40.5462 30.8534 39.9129 30.8534H37.6195C36.9862 30.8534 36.4727 30.3427 36.4727 29.7125V20.1567C36.4727 9.05035 45.5211 0.046875 56.6828 0.046875C67.8447 0.046875 76.8928 9.05035 76.8928 20.1567V29.7125C76.8928 30.3427 76.3796 30.8534 75.7463 30.8534H73.4529C72.8196 30.8534 72.3063 30.3427 72.3063 29.7125V20.1567C72.3063 11.5709 65.3113 4.61081 56.6828 4.61081C56.2457 4.61081 56.2083 5.22907 56.6241 5.36297C62.8966 7.3827 67.4329 13.2426 67.4329 20.1567Z"
                fill="#1D1D1B"
              />
              <path
                d="M27.2773 55.2398C27.2773 66.3462 36.3258 75.3495 47.4874 75.3495C47.7608 75.3495 47.7779 74.9558 47.5108 74.8983C38.4031 72.946 31.5775 64.8861 31.5775 55.2398V45.6839C31.5775 45.054 31.0642 44.543 30.4307 44.543H28.4242C27.7909 44.543 27.2773 45.054 27.2773 45.6839V55.2398Z"
                fill="#1D1D1B"
              />
              <path
                d="M67.4326 55.2398V45.6839C67.4326 45.054 66.9193 44.543 66.286 44.543H64.2793C63.646 44.543 63.1327 45.054 63.1327 45.6839V55.2398C63.1327 61.713 59.1564 67.2622 53.5017 69.6012C52.6025 69.9729 51.5894 69.9729 50.6902 69.6012C45.0355 67.2622 41.0592 61.713 41.0592 55.2398V45.6839C41.0592 45.054 40.5459 44.543 39.9126 44.543H37.6192C36.986 44.543 36.4727 45.054 36.4727 45.6839V55.2398C36.4727 66.3462 45.5209 75.3495 56.6828 75.3495C67.8444 75.3495 76.8926 66.3462 76.8926 55.2398V45.6839C76.8926 45.054 76.3793 44.543 75.746 44.543H73.4526C72.8193 44.543 72.306 45.054 72.306 45.6839V55.2398C72.306 63.8254 65.3113 70.7857 56.6828 70.7857C56.2455 70.7857 56.208 70.1675 56.6239 70.0336C62.8966 68.0137 67.4326 62.1539 67.4326 55.2398Z"
                fill="#1D1D1B"
              />
            </svg>
          </div>
          <div className="w-[200px] h-[64px]">
            <svg
              width="227"
              height="80"
              viewBox="0 0 227 80"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.117188 26.4346V19.6871H1.43286C1.91196 19.1865 2.35386 18.527 2.75884 17.7085C3.16383 16.8832 3.50124 15.8212 3.77105 14.5224C4.04764 13.2169 4.22653 11.5867 4.30742 9.63171L4.72245 0.611328H16.5752V19.6871H19.0043V26.3839H17.2025V21.3917H1.91874V26.4346H0.117188ZM3.7002 19.6871H14.7733V2.31597H6.44311L6.11928 9.63171C6.04518 11.2214 5.90674 12.6385 5.70425 13.8832C5.50175 15.1211 5.23194 16.2203 4.89454 17.1808C4.56393 18.1346 4.16573 18.97 3.7002 19.6871Z"
                fill="#1D1D1B"
              />
              <path
                d="M22.2532 21.3937H20.2695L27.8101 0.613281H29.8346L37.3752 21.3937H35.3915L28.8932 3.07892H28.7515L22.2532 21.3937ZM23.6805 13.4285H33.9643V15.1332H23.6805V13.4285Z"
                fill="#1D1D1B"
              />
              <path
                d="M40.082 21.3937V0.613281H52.1777V2.31792H41.9748V9.74529H47.8555C49.2391 9.74529 50.4131 9.97865 51.378 10.4454C52.3498 10.9121 53.0919 11.5717 53.6049 12.424C54.1177 13.2763 54.3742 14.2775 54.3742 15.4274C54.3742 16.618 54.1177 17.6597 53.6049 18.5526C53.0987 19.4455 52.3598 20.1422 51.3881 20.6428C50.4231 21.1434 49.2456 21.3937 47.8555 21.3937H40.082ZM41.9748 19.7195H47.8555C48.8477 19.7195 49.6878 19.5267 50.3759 19.1411C51.071 18.7488 51.6006 18.2279 51.9652 17.5785C52.3294 16.9224 52.5116 16.1918 52.5116 15.3868C52.5116 14.2707 52.1001 13.3372 51.2768 12.5863C50.4603 11.8287 49.32 11.4499 47.8555 11.4499H41.9748V19.7195Z"
                fill="#1D1D1B"
              />
              <path
                d="M56.1016 21.3937V19.6383H56.6482C57.5052 19.6383 58.1832 19.3542 58.6827 18.786C59.1821 18.211 59.5497 17.291 59.7861 16.0261C60.0222 14.7611 60.1772 13.0971 60.2516 11.0339L60.6159 0.613281H72.7824V21.3937H70.8896V2.31792H62.4177L62.0836 11.4499C62.0027 13.6484 61.8002 15.4849 61.4763 16.9596C61.1525 18.4275 60.6126 19.5335 59.8569 20.2775C59.1078 21.0216 58.0483 21.3937 56.6786 21.3937H56.1016Z"
                fill="#1D1D1B"
              />
              <path
                d="M85.4752 10.1484V11.8531H76.8516V10.1484H85.4752Z"
                fill="#1D1D1B"
              />
              <path
                d="M91.4006 0.622381V21.4028H89.5078V0.622381H91.4006ZM96.097 10.4038V12.1084H90.0542V10.4038H96.097ZM113.405 11.0024C113.405 13.167 113.021 15.0509 112.251 16.6541C111.482 18.2505 110.423 19.4884 109.073 20.3678C107.73 21.2404 106.185 21.6767 104.437 21.6767C102.69 21.6767 101.141 21.2404 99.7913 20.3678C98.4485 19.4884 97.3926 18.2505 96.6234 16.6541C95.8609 15.0509 95.4795 13.167 95.4795 11.0024C95.4795 8.83779 95.8609 6.95727 96.6234 5.36086C97.3926 3.75771 98.452 2.51981 99.8014 1.64719C101.151 0.767815 102.696 0.328125 104.437 0.328125C106.185 0.328125 107.73 0.767815 109.073 1.64719C110.423 2.51981 111.482 3.75771 112.251 5.36086C113.021 6.95727 113.405 8.83779 113.405 11.0024ZM111.563 11.0024C111.563 9.1422 111.253 7.54916 110.632 6.22334C110.011 4.89074 109.164 3.8727 108.091 3.16919C107.018 2.46569 105.8 2.11394 104.437 2.11394C103.081 2.11394 101.866 2.46569 100.793 3.16919C99.7205 3.8727 98.8703 4.88737 98.2428 6.21319C97.622 7.53901 97.3115 9.13542 97.3115 11.0024C97.3115 12.8626 97.622 14.4557 98.2428 15.7815C98.8635 17.1073 99.7104 18.1254 100.783 18.8356C101.856 19.5392 103.074 19.8909 104.437 19.8909C105.8 19.8909 107.018 19.5392 108.091 18.8356C109.171 18.1322 110.021 17.1175 110.642 15.7916C111.263 14.4591 111.57 12.8626 111.563 11.0024Z"
                fill="#1D1D1B"
              />
              <path
                d="M2.10088 48.0929H0.117188L7.6578 27.3125H9.68221L17.2228 48.0929H15.2389L8.74086 29.7781H8.59916L2.10088 48.0929ZM3.52811 40.1277H13.8119V41.8322H3.52811V40.1277Z"
                fill="#1D1D1B"
              />
              <path
                d="M19.9102 48.0949V27.3145H26.6006C28.0718 27.3145 29.2998 27.5985 30.2851 28.1667C31.277 28.7283 32.0226 29.4927 32.5218 30.4598C33.0281 31.4271 33.281 32.5164 33.281 33.7272C33.281 34.9379 33.0313 36.0304 32.5321 37.0045C32.0327 37.9719 31.2906 38.7395 30.3052 39.3079C29.3202 39.8693 28.0954 40.1501 26.631 40.1501H21.3678V38.4453H26.5805C27.6668 38.4453 28.5677 38.2423 29.283 37.8366C29.9982 37.4238 30.5313 36.8625 30.8823 36.1523C31.2398 35.4418 31.4187 34.6336 31.4187 33.7272C31.4187 32.8206 31.2398 32.0124 30.8823 31.3019C30.5313 30.5917 29.995 30.0336 29.2729 29.6279C28.5577 29.2219 27.65 29.0189 26.5501 29.0189H21.8029V48.0949H19.9102Z"
                fill="#1D1D1B"
              />
              <path
                d="M37.1862 27.3145L42.9252 36.3349H43.0569L48.7959 27.3145H51.0326L44.3625 37.7047L51.0326 48.0949H48.7959L43.0569 39.1759H42.9252L37.1862 48.0949H34.9492L41.7208 37.7047L34.9492 27.3145H37.1862Z"
                fill="#1D1D1B"
              />
              <path
                d="M53.7656 27.3125H55.628V44.7343H55.79L68.0678 27.3125H69.9098V48.0929H68.0171V30.6913H67.855L55.5976 48.0929H53.7656V27.3125Z"
                fill="#1D1D1B"
              />
              <path
                d="M73.3047 29.0189V27.3145H88.3354V29.0189H81.7666V48.0949H79.8738V29.0189H73.3047Z"
                fill="#1D1D1B"
              />
              <path
                d="M91.7461 48.0949V27.3145H103.771V29.0189H93.6388V36.8421H103.133V38.5468H93.6388V46.3901H103.973V48.0949H91.7461Z"
                fill="#1D1D1B"
              />
              <path
                d="M119.831 48.0949L112.695 38.2932H109.709V48.0949H107.816V27.3145H109.709V36.5985H111.582L119.223 27.3145H121.471L113.788 36.6799L122.098 48.0949H119.831Z"
                fill="#1D1D1B"
              />
              <path
                d="M123.562 29.017V27.3125H138.593V29.017H132.024V48.0929H130.131V29.017H123.562Z"
                fill="#1D1D1B"
              />
              <path
                d="M142.709 48.3789V46.6032H143.741C144.322 46.6032 144.804 46.512 145.189 46.3294C145.58 46.1398 145.904 45.8794 146.161 45.5479C146.424 45.2097 146.65 44.814 146.839 44.3607L147.183 43.5289L140.047 27.3145H142.081L148.134 41.2355L153.721 27.3145H155.726L148.569 44.9291C148.279 45.6189 147.949 46.2244 147.577 46.7452C147.213 47.2595 146.734 47.6619 146.14 47.9528C145.547 48.2369 144.764 48.3789 143.792 48.3789H142.709Z"
                fill="#1D1D1B"
              />
              <path
                d="M158.426 48.0949V27.3145H165.116C166.587 27.3145 167.815 27.5985 168.801 28.1667C169.792 28.7283 170.538 29.4927 171.037 30.4598C171.543 31.4271 171.796 32.5164 171.796 33.7272C171.796 34.9379 171.547 36.0304 171.047 37.0045C170.548 37.9719 169.806 38.7395 168.821 39.3079C167.836 39.8693 166.611 40.1501 165.147 40.1501H159.883V38.4453H165.096C166.182 38.4453 167.083 38.2423 167.798 37.8366C168.514 37.4238 169.047 36.8625 169.398 36.1523C169.755 35.4418 169.934 34.6336 169.934 33.7272C169.934 32.8206 169.755 32.0124 169.398 31.3019C169.047 30.5917 168.51 30.0336 167.788 29.6279C167.073 29.2219 166.165 29.0189 165.065 29.0189H160.319V48.0949H158.426Z"
                fill="#1D1D1B"
              />
              <path
                d="M175.387 48.0929V27.3125H177.279V36.8401H189.04V27.3125H190.932V48.0929H189.04V38.5449H177.279V48.0929H175.387Z"
                fill="#1D1D1B"
              />
              <path
                d="M195.609 48.0949H193.625L201.166 27.3145H203.191L210.731 48.0949H208.747L202.249 29.78H202.108L195.609 48.0949ZM197.037 40.1297H207.322V41.8342H197.037V40.1297Z"
                fill="#1D1D1B"
              />
              <path
                d="M226.771 48.0949H224.879V29.0189H220.132C219.038 29.0189 218.131 29.2051 217.409 29.577C216.692 29.9493 216.158 30.4769 215.799 31.1599C215.441 31.8364 215.262 32.6279 215.262 33.5343C215.262 34.4407 215.438 35.2255 215.789 35.8883C216.147 36.5512 216.684 37.0619 217.398 37.4206C218.12 37.7789 219.021 37.9583 220.102 37.9583H225.75V39.6935H220.05C218.593 39.6935 217.371 39.4328 216.386 38.912C215.4 38.3912 214.657 37.6674 214.149 36.7406C213.65 35.814 213.4 34.7452 213.4 33.5343C213.4 32.3234 213.65 31.2513 214.149 30.3177C214.657 29.3776 215.4 28.6437 216.386 28.1161C217.379 27.5817 218.612 27.3145 220.08 27.3145H226.771V48.0949ZM217.632 38.7194H219.768L214.716 48.0949H212.531L217.632 38.7194Z"
                fill="#1D1D1B"
              />
              <path
                d="M18.2953 60.5084H16.3925C16.2509 59.7982 15.9943 59.1419 15.6233 58.54C15.2587 57.9313 14.8 57.4001 14.2465 56.9471C13.6933 56.4937 13.0658 56.1419 12.3641 55.8916C11.6622 55.6415 10.9032 55.5163 10.0867 55.5163C8.77755 55.5163 7.58321 55.8578 6.50342 56.5411C5.43069 57.2243 4.57023 58.2287 3.92257 59.5547C3.28143 60.8736 2.96086 62.4905 2.96086 64.4048C2.96086 66.3326 3.28143 67.9561 3.92257 69.2752C4.57023 70.5941 5.43069 71.5952 6.50342 72.2785C7.58321 72.955 8.77755 73.2932 10.0867 73.2932C10.9032 73.2932 11.6622 73.168 12.3641 72.9177C13.0658 72.6676 13.6933 72.319 14.2465 71.8728C14.8 71.4195 15.2587 70.8886 15.6233 70.2796C15.9943 69.6709 16.2509 69.0113 16.3925 68.3011H18.2953C18.1265 69.2548 17.8095 70.1444 17.3439 70.9697C16.8849 71.7882 16.2981 72.5052 15.5828 73.1207C14.8741 73.7362 14.0576 74.2165 13.1334 74.5615C12.2088 74.9065 11.1934 75.079 10.0867 75.079C8.34569 75.079 6.80038 74.6429 5.45078 73.7702C4.10118 72.8907 3.04174 71.6529 2.27248 70.0565C1.51 68.46 1.12891 66.5762 1.12891 64.4048C1.12891 62.2333 1.51 60.3495 2.27248 58.7531C3.04174 57.1566 4.10118 55.922 5.45078 55.0497C6.80038 54.1702 8.34569 53.7305 10.0867 53.7305C11.1934 53.7305 12.2088 53.903 13.1334 54.248C14.0576 54.5863 14.8741 55.0665 15.5828 55.6888C16.2981 56.3043 16.8849 57.0214 17.3439 57.8399C17.8095 58.6584 18.1265 59.5479 18.2953 60.5084Z"
                fill="#1D1D1B"
              />
              <path
                d="M20.625 55.7184V54.0137H35.6557V55.7184H29.0869V74.7941H27.1941V55.7184H20.625Z"
                fill="#1D1D1B"
              />
              <path
                d="M39.7792 75.0782V73.3024H40.8118C41.3921 73.3024 41.8745 73.2112 42.2591 73.0286C42.6505 72.8392 42.9743 72.5788 43.2308 72.2471C43.4939 71.9089 43.72 71.5133 43.9089 71.0602L44.2531 70.2281L37.1172 54.0137H39.1516L45.2045 67.935L50.7918 54.0137H52.7959L45.6399 71.6284C45.3497 72.3182 45.0191 72.9236 44.6478 73.4444C44.2835 73.9587 43.8044 74.3612 43.2105 74.652C42.6168 74.9361 41.834 75.0782 40.8623 75.0782H39.7792Z"
                fill="#1D1D1B"
              />
              <path
                d="M53.543 79.8371V73.0893H54.8589C55.338 72.5889 55.7799 71.9293 56.1849 71.1108C56.5896 70.2855 56.927 69.2235 57.1968 67.9247C57.4737 66.6191 57.6526 64.9889 57.7335 63.0341L58.1485 54.0137H70.001V73.0893H72.4301V79.7862H70.6285V74.7941H55.3448V79.8371H53.543ZM57.1263 73.0893H68.1994V55.7184H59.8692L59.5453 63.0341C59.471 64.6237 59.3325 66.0409 59.1303 67.2855C58.9278 68.5233 58.658 69.6226 58.3206 70.5832C57.9897 71.5369 57.5918 72.3723 57.1263 73.0893Z"
                fill="#1D1D1B"
              />
              <path
                d="M75.6562 54.0137H77.5186V71.4354H77.6806L89.9582 54.0137H91.8004V74.7941H89.9077V57.3924H89.7456L77.4882 74.7941H75.6562V54.0137Z"
                fill="#1D1D1B"
              />
              <path
                d="M109.823 74.7941H107.93V55.7184H103.183C102.09 55.7184 101.183 55.9043 100.461 56.2763C99.7454 56.6485 99.209 57.1761 98.8513 57.8594C98.4935 58.5356 98.3149 59.3271 98.3149 60.2335C98.3149 61.1399 98.4902 61.9247 98.8412 62.5876C99.1987 63.2504 99.7353 63.7612 100.451 64.1198C101.173 64.4782 102.073 64.6575 103.153 64.6575H108.801V66.3927H103.102C101.645 66.3927 100.423 66.1323 99.4384 65.6112C98.453 65.0904 97.7074 64.3666 97.2014 63.4401C96.702 62.5133 96.4523 61.4444 96.4523 60.2335C96.4523 59.0227 96.702 57.9505 97.2014 57.0172C97.7074 56.0768 98.453 55.3429 99.4384 54.8153C100.43 54.2809 101.662 54.0137 103.133 54.0137H109.823V74.7941ZM100.683 65.4186H102.819L97.7682 74.7941H95.582L100.683 65.4186Z"
                fill="#1D1D1B"
              />
            </svg>
          </div>
        </div>
      </div>
    </>
  );
}
